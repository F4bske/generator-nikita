/*
 * project grunt configuration
 *
 * see grunt/config for task configs
 * see grunt/tasks for custom tasks
 * see grunt/aliases.js for task group definitions
 */
module.exports = function (grunt) {
    const path = require('path');

    require('time-grunt')(grunt);

    require('load-grunt-config')(grunt, {
        configPath: path.join(process.cwd(), 'grunt/config'),
        overridePath: path.join(process.cwd(), 'grunt'),
        jitGrunt: {
            customTasksDir: 'grunt/tasks',
            staticMappings: {
                svgcss: 'grunt-svg-css',
            }
        },
        data: {
            /*
             * project base directories
             */
            paths: {
                src: '<%= config.get('rootFolder') %>src',
                static: <%= config.get('rootFolder') %>'static',
                tmp: 'tmp',
            },
            /*
             * dynamic browser list for css autoprefixer and babel-preset-env
             * see https://github.com/ai/browserslist
             * see http://browserl.ist/?q=last+2+versions%2C+not+OperaMobile+%3C+13%2C+not+OperaMini+all%2C+not+QQAndroid+%3E%3D+1%2C+not+UCAndroid+%3E%3D+1%2C+not+Baidu+%3E%3D+1%2C+not+BlackBerry+%3E%3D+1
             */
            browserslist: [
                'last 2 versions',
                'not BlackBerry >= 1',
                'not OperaMini all',
                'not OperaMobile < 13',
                'not QQAndroid >= 1',
                'not UCAndroid >= 1',
                'not Baidu >= 1',
            ],
        },
    });
};
