/*
 * project grunt configuration
 *
 * see grunt/config for task configs
 * see grunt/tasks for custom tasks
 * see grunt/aliases.js for task group definitions
 */
module.exports = function (grunt) {
    const path = require('path');

    require('time-grunt')(grunt);

    require('load-grunt-config')(grunt, {
        configPath: path.join(process.cwd(), 'grunt/config'),
        overridePath: path.join(process.cwd(), 'grunt'),
        jitGrunt: {
            customTasksDir: 'grunt/tasks',
            staticMappings: {
                svgcss: 'grunt-svg-css',
            }
        },
        data: {
            /*
             * project base directories
             */
            paths: {<% if (config.get('useBuildFolders')) { %>
                src: 'source',
                dev: grunt.option('target') || 'build',
                dist: grunt.option('target') || 'dist',
                tmp: 'tmp'<% } else { %>
                src: '<%= config.get('sourceFolder') %>',
                dev: '<%= config.get('sourceFolder') %>',
                dist: '<%= config.get('sourceFolder') %>',
                tmp: 'tmp'<% }%>
            },
            /*
             * dynamic browser list for css autoprefixer and babel-preset-env
             * see https://github.com/ai/browserslist
             * see http://browserl.ist/
             */
            browserslist: 'last 2 versions',
        },
    });
};
