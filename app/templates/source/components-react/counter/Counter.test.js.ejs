/* eslint-disable no-console */
import React from 'react';
import { shallow, mount, render } from 'enzyme';
import { MemoryRouter } from 'react-router';
import Counter from './Counter';

describe('The counter component', () => {

    /* wrapping with MemoryRouter is necessary because Counter uses Link Component */

    it('should render without throwing an error', () => {

        const shallowWrapper = shallow(
            <MemoryRouter>
                <Counter/>
            </MemoryRouter>,
        );

        expect(shallowWrapper.exists('.b-counter')).toBe(true);
    });

    it('should mount in a full DOM', () => {

        const mountWrapper = mount(
            <MemoryRouter>
                <Counter/>
            </MemoryRouter>,
        );

        expect(mountWrapper.find('.b-counter').length).toBe(1);
    });

    it('should render to static HTML', () => {

        const renderWrapper = render(
            <MemoryRouter>
                <Counter/>
            </MemoryRouter>,
        );

        expect(renderWrapper.text()).toEqual('counter value is: [Increase Counter]go back');
    });
});
